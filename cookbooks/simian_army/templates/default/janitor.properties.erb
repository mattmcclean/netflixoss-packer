#
## Janitor Monkey Configuration File
#
## Dynamically generated by Chef on <%= node['fqdn'] %>
##
## Local modifications will be overwritten by Chef.
##
simianarmy.scheduler.frequency = <%= node['simian_army']['scheduler']['frequency'] %>
simianarmy.scheduler.frequencyUnit = <%= node['simian_army']['scheduler']['frequencyUnit'] %>
simianarmy.scheduler.threads = <%= node['simian_army']['scheduler']['threads'] %>

simianarmy.calendar.openHour = <%= node['simian_army']['janitor']['calendar']['openHour'] %>
simianarmy.calendar.closeHour = <%= node['simian_army']['janitor']['calendar']['closeHour'] %>
simianarmy.calendar.timezone = <%= node['simian_army']['calendar']['timezone'] %>

simianarmy.janitor.enabled=<%= node['simian_army']['janitor']['enabled'] ? 'true' : 'false' %>
simianarmy.janitor.leashed=<%= node['simian_army']['janitor']['leashed'] ? 'true' : 'false' %>
simianarmy.janitor.resources.sdb.domain=<%= node['simian_army']['janitor']['sdb_domain'] %>

simianarmy.janitor.notification.sourceEmail=<%= node['simian_army']['janitor']['notification']['sourceEmail'] %>
simianarmy.janitor.notification.defaultEmail=<%= node['simian_army']['janitor']['notification']['defaultEmail'] %>
simianarmy.janitor.notification.daysBeforeTermination=<%= node['simian_army']['janitor']['notification']['daysBeforeTermination'] %>
simianarmy.janitor.summaryEmail.to=<%= node['simian_army']['janitor']['summary']['emailTo'] %>
simianarmy.janitor.enabledResources=<%= node['simian_army']['janitor']['enabledResources'] %>

simianarmy.janitor.rule.orphanedInstanceRule.enabled=<%= node['simian_army']['janitor']['rule']['orphanedInstanceRule']['enabled'] ? 'true' : 'false' %>
simianarmy.janitor.rule.orphanedInstanceRule.instanceAgeThreshold=<%= node['simian_army']['janitor']['rule']['orphanedInstanceRule']['instanceAgeThreshold']  %>
simianarmy.janitor.rule.orphanedInstanceRule.retentionDaysWithOwner=<%= node['simian_army']['janitor']['rule']['orphanedInstanceRule']['retentionDaysWithOwner']  %>
simianarmy.janitor.rule.orphanedInstanceRule.retentionDaysWithoutOwner=<%= node['simian_army']['janitor']['rule']['orphanedInstanceRule']['retentionDaysWithoutOwner']  %>

simianarmy.janitor.rule.oldDetachedVolumeRule.enabled=<%= node['simian_army']['janitor']['rule']['oldDetachedVolumeRule']['enabled'] ? 'true' : 'false' %>
simianarmy.janitor.rule.oldDetachedVolumeRule.detachDaysThreshold=<%= node['simian_army']['janitor']['rule']['oldDetachedVolumeRule']['detachDaysThreshold']  %>
simianarmy.janitor.rule.oldDetachedVolumeRule.retentionDays=<%= node['simian_army']['janitor']['rule']['oldDetachedVolumeRule']['retentionDays']  %>

simianarmy.janitor.rule.noGeneratedAMIRule.enabled=<%= node['simian_army']['janitor']['rule']['noGeneratedAMIRule']['enabled'] ? 'true' : 'false' %>
simianarmy.janitor.rule.noGeneratedAMIRule.ageThreshold=<%= node['simian_army']['janitor']['rule']['noGeneratedAMIRule']['ageThreshold']  %>
simianarmy.janitor.rule.noGeneratedAMIRule.retentionDays=<%= node['simian_army']['janitor']['rule']['noGeneratedAMIRule']['retentionDays']  %>

simianarmy.janitor.rule.oldEmptyASGRule.enabled=<%= node['simian_army']['janitor']['rule']['oldEmptyASGRule']['enabled'] ? 'true' : 'false' %>
simianarmy.janitor.rule.oldEmptyASGRule.launchConfigAgeThreshold=<%= node['simian_army']['janitor']['rule']['oldEmptyASGRule']['launchConfigAgeThreshold']  %>
simianarmy.janitor.rule.oldEmptyASGRule.retentionDays=<%= node['simian_army']['janitor']['rule']['oldEmptyASGRule']['retentionDays']  %>

simianarmy.janitor.rule.suspendedASGRule.enabled=<%= node['simian_army']['janitor']['rule']['suspendedASGRule']['enabled'] ? 'true' : 'false' %>
simianarmy.janitor.rule.suspendedASGRule.suspensionAgeThreshold=<%= node['simian_army']['janitor']['rule']['suspendedASGRule']['suspensionAgeThreshold']  %>
simianarmy.janitor.rule.suspendedASGRule.retentionDays=<%= node['simian_army']['janitor']['rule']['suspendedASGRule']['retentionDays']  %>

simianarmy.janitor.rule.oldUnusedLaunchConfigRule.enabled=<%= node['simian_army']['janitor']['rule']['oldUnusedLaunchConfigRule']['enabled'] ? 'true' : 'false' %>
simianarmy.janitor.rule.oldUnusedLaunchConfigRule.ageThreshold=<%= node['simian_army']['janitor']['rule']['oldUnusedLaunchConfigRule']['ageThreshold']  %>
simianarmy.janitor.rule.oldUnusedLaunchConfigRule.retentionDays=<%= node['simian_army']['janitor']['rule']['oldUnusedLaunchConfigRule']['retentionDays']  %>

simianarmy.janitor.image.crawler.lookBackDays=<%= node['simian_army']['janitor']['rule']['image_crawler_lookbackdays'] %>

simianarmy.janitor.rule.unusedImageRule.enabled=<%= node['simian_army']['janitor']['rule']['unusedImageRule']['enabled'] ? 'true' : 'false' %>
simianarmy.janitor.rule.unusedImageRule.lastReferenceDaysThreshold=<%= node['simian_army']['janitor']['rule']['unusedImageRule']['lastReferenceDaysThreshold']  %>
simianarmy.janitor.rule.unusedImageRule.retentionDays=<%= node['simian_army']['janitor']['rule']['unusedImageRule']['retentionDays']  %>

simianarmy.janitor.Eureka.enabled = false
simianarmy.janitor.edda.enabled = false
simianarmy.janitor.edda.client.timeout = 30000
simianarmy.janitor.edda.client.retries = 3
simianarmy.janitor.edda.client.retryInterval = 1000
